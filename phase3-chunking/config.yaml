# Phase 3 Chunking Configuration - Optimized for Fish Speech TTS

phase3_profile: full  # options: full | no_embeddings | fast_cpu
use_structure_chunking: true
min_structure_nodes: 10

json_path: pipeline.json
chunks_dir: chunks

# Kokoro-friendly chunk sizes (larger chunks to reduce total count)
chunk_min_words: 1200    # ~4500 chars
chunk_max_words: 2400    # ~9000 chars
chunk_min_chars: 4000
chunk_max_chars: 9000

# Quality thresholds
coherence_threshold: 0.4  # LOWERED: Classical texts have lower coherence due to aphorisms
flesch_threshold: 60
max_chunk_duration: 45.0  # Increased from 25s (Fish Speech can handle longer)

# Fish Speech can handle much larger chunks than Chatterbox (500 chars max)
# This reduces total chunk count and overhead significantly
# Example: 441 chunks (old) â†’ ~150 chunks (new) for same audiobook
